import{r as i,j as e,B as v,E as k,C as N}from"./index-DwHOoaIw.js";const g={questionText:"",optionA:"",optionB:"",optionC:"",optionD:"",correctAnswer:"A",difficulty:"easy"},w=()=>{const[a,l]=i.useState({name:"",description:"",category:""}),[o,d]=i.useState([{...g}]),[m,x]=i.useState(!1),[b,p]=i.useState(""),[h,c]=i.useState(""),u=s=>{l({...a,[s.target.name]:s.target.value})},n=(s,t)=>{const r=[...o];r[s][t.target.name]=t.target.value,d(r)},y=()=>d([...o,{...g}]),f=s=>d(o.length>1?o.filter((t,r)=>r!==s):o),j=async s=>{s.preventDefault(),x(!0),c(""),p("");try{const r=await(await fetch("/api/skills/with-questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...a,questions:o})})).json();r.success?(p("Skill and questions added successfully!"),l({name:"",description:"",category:""}),d([{...g}])):c(r.message||"Failed to add skill and questions")}catch{c("Failed to add skill and questions")}finally{x(!1)}};return e.jsx("div",{className:"w-full max-w-3xl mx-auto",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Skill Name"}),e.jsx("input",{name:"name",value:a.name,onChange:u,required:!0,placeholder:"Skill Name",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Description"}),e.jsx("input",{name:"description",value:a.description,onChange:u,required:!0,placeholder:"Description",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Category"}),e.jsx("input",{name:"category",value:a.category,onChange:u,required:!0,placeholder:"Category",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Questions"}),e.jsx("div",{className:"space-y-4 smooth-scrollbar max-h-[400px] overflow-y-auto pr-2",children:o.map((s,t)=>e.jsxs("div",{className:"p-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/70 dark:bg-gray-900/70 shadow-lg backdrop-blur-md relative transition-colors",children:[e.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[e.jsxs("span",{className:"font-semibold",children:["Question ",t+1]}),o.length>1&&e.jsx("button",{type:"button",className:"text-red-500 hover:underline text-xs",onClick:()=>f(t),children:"Remove"})]}),e.jsx("input",{name:"questionText",value:s.questionText,onChange:r=>n(t,r),required:!0,placeholder:"Question Text",className:"w-full border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 mb-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsx("input",{name:"optionA",value:s.optionA,onChange:r=>n(t,r),required:!0,placeholder:"Option A",className:"border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors"}),e.jsx("input",{name:"optionB",value:s.optionB,onChange:r=>n(t,r),required:!0,placeholder:"Option B",className:"border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors"}),e.jsx("input",{name:"optionC",value:s.optionC,onChange:r=>n(t,r),required:!0,placeholder:"Option C",className:"border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors"}),e.jsx("input",{name:"optionD",value:s.optionD,onChange:r=>n(t,r),required:!0,placeholder:"Option D",className:"border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors"})]}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{name:"correctAnswer",value:s.correctAnswer,onChange:r=>n(t,r),className:"border border-gray-300 dark:border-gray-700 rounded-lg px-2 py-1 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors",children:[e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"})]}),e.jsxs("select",{name:"difficulty",value:s.difficulty,onChange:r=>n(t,r),className:"border border-gray-300 dark:border-gray-700 rounded-lg px-2 py-1 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]})]},t))}),e.jsx("button",{type:"button",className:"mt-2 px-3 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 text-xs",onClick:y,children:"+ Add Another Question"})]}),e.jsx(v,{type:"submit",className:"w-full mt-4",disabled:m,children:m?"Submitting...":"Submit"}),b&&e.jsx("div",{className:"text-green-600 text-sm",children:b}),h&&e.jsx(k,{message:h})]})})},S=()=>{const a=localStorage.getItem("theme")||"light";let l="bg-[var(--bg-primary)]";return a==="premium"&&(l="bg-gradient-to-br from-[#1a1333] via-[#2d225a] to-[#3b1f5e]"),e.jsx("div",{className:`min-h-[600px] flex flex-col items-center justify-center p-0 m-0 overflow-hidden ${l}`,children:e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-[var(--text-primary)] drop-shadow-lg",children:"Manage Skills"}),e.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center overflow-y-auto smooth-scrollbar",style:{maxHeight:"80vh"},children:e.jsx("div",{className:"w-full max-w-5xl flex flex-col md:flex-row gap-8",children:e.jsxs(N,{className:"flex-1 p-8 shadow-2xl rounded-2xl border-2 border-[var(--accent-color)] bg-white/90 dark:bg-[var(--bg-secondary)] backdrop-blur-xl",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-[var(--text-primary)]",children:"Add Skill with Questions"}),e.jsx("div",{className:"w-full max-w-3xl mx-auto",children:e.jsx(w,{})})]})})})]})})};export{S as default};
