import{r as a,h as i,j as e,C as p,L as h,E as m}from"./index-Czxs-s-c.js";const b=()=>{const[l,n]=a.useState([]),[d,c]=a.useState(!0),[t,x]=a.useState(null);return a.useEffect(()=>{console.debug("[AdminUsers] useEffect: fetching all user reports"),i.getAllUserReports().then(s=>{console.debug("[AdminUsers] API response:",s),n(s.data.reports||[]),c(!1)}).catch(s=>{var r,o;console.error("[AdminUsers] API error:",s),x(((o=(r=s.response)==null?void 0:r.data)==null?void 0:o.message)||s.message),c(!1)})},[]),e.jsxs(p,{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"All Users"}),d&&e.jsx(h,{}),t&&e.jsx(m,{message:t}),!d&&!t&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border",children:"Serial No."}),e.jsx("th",{className:"px-4 py-2 border",children:"User ID"}),e.jsx("th",{className:"px-4 py-2 border",children:"Username"}),e.jsx("th",{className:"px-4 py-2 border",children:"Email"}),e.jsx("th",{className:"px-4 py-2 border",children:"Registered At"}),e.jsx("th",{className:"px-4 py-2 border",children:"Total Quizzes"}),e.jsx("th",{className:"px-4 py-2 border",children:"Total Correct"}),e.jsx("th",{className:"px-4 py-2 border",children:"Avg. Score (%)"})]})}),e.jsx("tbody",{children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"text-center py-4",children:"No users found."})}):l.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1",children:r+1}),e.jsx("td",{className:"border px-2 py-1",children:s.id}),e.jsx("td",{className:"border px-2 py-1",children:s.username}),e.jsx("td",{className:"border px-2 py-1",children:s.email}),e.jsx("td",{className:"border px-2 py-1",children:new Date(s.registeredAt).toLocaleDateString()}),e.jsx("td",{className:"border px-2 py-1",children:s.totalQuizzes}),e.jsx("td",{className:"border px-2 py-1",children:s.totalCorrect}),e.jsx("td",{className:"border px-2 py-1",children:s.avgScore.toFixed(2)})]},s.id))})]})})]})};export{b as default};
