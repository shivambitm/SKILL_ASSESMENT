import{r as t,h as b,j as e,C as S,L as p,E as f}from"./index-BneqiKeq.js";const g=()=>{const[s,c]=t.useState([]),[o,l]=t.useState(!0),[a,u]=t.useState(null),[i,x]=t.useState(null);t.useEffect(()=>{console.debug("[AdminReports] useEffect: fetching all user reports"),b.getAllUserReports().then(r=>{console.debug("[AdminReports] API response:",r),c(r.data.reports||[]),l(!1)}).catch(r=>{var n,m;console.error("[AdminReports] API error:",r),u(((m=(n=r.response)==null?void 0:n.data)==null?void 0:m.message)||r.message),l(!1)})},[]);const N=localStorage.getItem("theme")||"light";let d="";return N==="premium"&&(d="bg-gradient-to-br from-[rgba(139,92,246,0.25)] via-[rgba(15,15,35,0.85)] to-[rgba(75,0,130,0.7)] backdrop-blur-2xl"),e.jsxDEV(S,{className:`rounded-2xl shadow-2xl border-2 border-[var(--accent-color)] theme-transition ${d}`,children:e.jsxDEV("div",{id:"user-reports-export",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("h2",{className:"text-2xl font-extrabold text-[var(--accent-color)] drop-shadow-lg font-sans",children:"User Reports"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:87,columnNumber:11},void 0)},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:86,columnNumber:9},void 0),e.jsxDEV("div",{className:"mb-6 flex flex-col items-center",children:e.jsxDEV("div",{className:"w-full max-w-md rounded-2xl p-4 mb-2 border-2 border-[var(--accent-color)] shadow-lg bg-[rgba(139,92,246,0.10)] backdrop-blur-lg theme-transition",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2 text-[var(--accent-color)] drop-shadow",children:"Summary"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:94,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-between text-sm text-[var(--text-primary)]",children:[e.jsxDEV("div",{children:["Total Users: ",e.jsxDEV("span",{className:"font-bold",children:s.length},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:99,columnNumber:30},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:98,columnNumber:15},void 0),e.jsxDEV("div",{children:["Total Quizzes:"," ",e.jsxDEV("span",{className:"font-bold",children:s.reduce((r,n)=>r+n.totalQuizzes,0)},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:101,columnNumber:15},void 0),e.jsxDEV("div",{children:["Avg. Score:"," ",e.jsxDEV("span",{className:"font-bold",children:[s.length>0?(s.reduce((r,n)=>r+n.avgScore,0)/s.length).toFixed(2):"0.00","%"]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:93,columnNumber:11},void 0)},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:92,columnNumber:9},void 0),i&&e.jsxDEV("div",{className:"mb-2 text-green-600",children:i},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:124,columnNumber:11},void 0),o&&e.jsxDEV(p,{},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:126,columnNumber:21},void 0),a&&e.jsxDEV(f,{message:a},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:127,columnNumber:19},void 0),!o&&!a&&e.jsxDEV("div",{className:"overflow-x-auto max-h-[60vh] smooth-scrollbar",children:e.jsxDEV("table",{id:"user-reports-table",className:"min-w-full border-2 border-[var(--accent-color)] rounded-2xl overflow-hidden bg-white/80 dark:bg-[rgba(139,92,246,0.10)] backdrop-blur theme-transition",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-2 border-b-2 border-[var(--accent-color)] text-[var(--accent-color)] bg-transparent font-bold",children:"User ID"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:136,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-2 border-b-2 border-[var(--accent-color)] text-[var(--accent-color)] bg-transparent font-bold",children:"Name"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:139,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-2 border-b-2 border-[var(--accent-color)] text-[var(--accent-color)] bg-transparent font-bold",children:"Email"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:142,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-2 border-b-2 border-[var(--accent-color)] text-[var(--accent-color)] bg-transparent font-bold",children:"Registered At"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:145,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-2 border-b-2 border-[var(--accent-color)] text-[var(--accent-color)] bg-transparent font-bold",children:"Total Quiz Attempted"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:148,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-2 border-b-2 border-[var(--accent-color)] text-[var(--accent-color)] bg-transparent font-bold",children:"Percentage (%)"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:151,columnNumber:19},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:135,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:134,columnNumber:15},void 0),e.jsxDEV("tbody",{children:s.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:8,className:"text-center py-4 text-[var(--text-primary)] bg-transparent",children:"No reports found."},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:160,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:159,columnNumber:19},void 0):s.map(r=>e.jsxDEV("tr",{className:"hover:bg-[rgba(var(--accent-rgb,0,132,255),0.08)] transition",children:[e.jsxDEV("td",{className:"border-b-2 border-[var(--accent-color)] px-2 py-1 text-[var(--text-primary)] bg-transparent",children:r.id},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:173,columnNumber:23},void 0),e.jsxDEV("td",{className:"border-b-2 border-[var(--accent-color)] px-2 py-1 text-[var(--text-primary)] bg-transparent",children:r.username},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:176,columnNumber:23},void 0),e.jsxDEV("td",{className:"border-b-2 border-[var(--accent-color)] px-2 py-1 text-[var(--text-primary)] bg-transparent",children:r.email},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:179,columnNumber:23},void 0),e.jsxDEV("td",{className:"border-b-2 border-[var(--accent-color)] px-2 py-1 text-[var(--text-primary)] bg-transparent",children:new Date(r.registeredAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:182,columnNumber:23},void 0),e.jsxDEV("td",{className:"border-b-2 border-[var(--accent-color)] px-2 py-1 text-[var(--text-primary)] bg-transparent",children:r.totalQuizzes},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:189,columnNumber:23},void 0),e.jsxDEV("td",{className:"border-b-2 border-[var(--accent-color)] px-2 py-1 text-[var(--text-primary)] bg-transparent",children:r.totalQuizzes>0?(r.totalCorrect/(r.totalQuizzes*3)*100).toFixed(2):"0.00"},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:192,columnNumber:23},void 0)]},r.id,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:169,columnNumber:21},void 0))},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:157,columnNumber:15},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:130,columnNumber:13},void 0)},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:129,columnNumber:11},void 0)]},void 0,!0,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:85,columnNumber:7},void 0)},void 0,!1,{fileName:"F:/SKILL_ASSESMENT/src/pages/user/AdminReports.tsx",lineNumber:81,columnNumber:5},void 0)};export{g as AdminReports,g as default};
